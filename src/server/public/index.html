<!DOCTYPE html>

<meta charset=utf-8>
<title>music.js</title>
<link rel=stylesheet type=text/css href=style.css>
<link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css>

<main>
  <nav class="navbar navbar-dark bg-dark mb-3">
    <div class=navbar-brand>
      music.js
    </div>
    <div class="navbar-expand">
      <ul class=navbar-nav>
        <li class="nav-item">
          <a class=nav-link href="#" data-target=search>
            Recherche
          </a>
        </li>
        <li class=nav-item>
          <a class=nav-link href="#" data-target=playlist-list>
            Playlists
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class=container hidden id=search>
    <input type=text placeholder="Entrez un nom de chanson..."
           id=search-input class="form-control mb-3">

    <div id=search-results>
      <template id=track-list-template>
        {{#if tracks.length}}
        {{else}}
          <div class="alert alert-light">
            Aucun résultat. Utilisez le formulaire ci-dessus pour chercher une
            chanson.
          </div>
        {{/if}}

        <ul class=list-group>
          {{#each tracks}}
            <li class=list-group-item>
              <img src="/img/{{provider}}.png" width=24 height=24 class="float-right ml-1">
              <a href="{{uri}}" target=_blank rel="noopener noreferrer">
                {{artist}} — {{title}}
              </a>
            </li>

          {{/each}}
        </ul>
      </template>
    </div>
  </div>

  <div class=container hidden id=playlist-list>
    <div class="input-group mb-3">
      <input type=text placeholder="Entrez un nom de playlist..."
             class=form-control id=playlist-name-input>
      <span class=input-group-btn>
        <button type=button class="btn btn-primary" id=create-playlist-btn>
          Ajouter
        </button>
      </span>
    </div>

    <div id=playlists-ul>
      <template id=playlist-list-template>
        {{#if playlists.length}}
        {{else}}
          <div class="alert alert-light">
            Il n'y a pas encore de playlists. Créez une playlist avec le
            formulaire ci-dessus.
          </div>
        {{/if}}
        <ul class=list-group>
          {{#each playlists}}
            <li class=list-group-item>
              {{name}} — {{tracks.length}} chansons
            </li>
          {{/each}}
        </ul>
      </template>
    </div>
  </div>
</main>

<script src=https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.js></script>
<script data-main=main src=https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js></script>
